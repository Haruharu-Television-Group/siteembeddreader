window.onload=function(){const rbElements=document.querySelectorAll('.rb-1');rbElements.forEach(function(rbElement){rbElement.innerHTML=` <div class="r-box-2 pbtn-p" id="pbtn" onclick="ltts()">▼</div> <div class="l-box-2" onclick="ltts()" capdsa="aa"> 読み上げる </div> `});const style=document.createElement('style');style.innerHTML=` .rb-1 { display: inline-flex; padding: 0px; border-radius: 20px; background: linear-gradient(90deg, rgba(120, 119, 131, 1) 0%, rgba(173, 173, 173, 1) 35%, rgba(131, 194, 195, 1) 73%, rgba(81, 196, 219, 1) 100%); object-fit: contain; background-size: contain; color: #fff; align-items: center; } .l-box-2::before { content: " "; height: 100%; border-left: solid 1px #fefefe; margin-right: 10px; } .l-box-2 { margin: 10px; } .r-box-2 { margin-left: 15px; cursor: pointer; user-select: none; } .pbtn-p { transform: rotate(-90deg); } `;document.head.appendChild(style)};function ltts(){const pbtn=document.getElementById("pbtn");if(pbtn.className.indexOf("r-now")!==-1){pbtn.classList.remove('r-now');pbtn.classList.add('r-pause');pbtn.innerText="▼";speechSynthesis.cancel()}else{pbtn.classList.remove('r-pause');pbtn.classList.add("r-now");pbtn.innerText="=";const icontent=document.body.innerText;const voices=speechSynthesis.getVoices();const uttr=new SpeechSynthesisUtterance(icontent);uttr.voice=voices[182];speechSynthesis.speak(uttr)}}